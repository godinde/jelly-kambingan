<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Enroll</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <button onclick="location.href='index.html'" style="position:absolute;top:30px;left:30px;">Back to Home</button>
  <div class="enroll-form-container">
    <h2 class="enroll-header">Enroll</h2>
    <form class="enroll-form" id="enrollForm">
      <input type="text" name="name" placeholder="Name" required class="enroll-input" />
      <input type="number" name="age" placeholder="Age" min="0" required class="enroll-input" />
      <select name="coach" required class="enroll-input">
        <option value="" disabled selected>Select Coach</option>
        <option value="Chiklet">Chiklet</option>
        <option value="Candy">Candy</option>
        <option value="Sugar">Sugar</option>
        <option value="Jelly">Jelly</option>
      </select>
      <input type="date" name="date" required class="enroll-input" />
      <input type="time" name="time" required class="enroll-input" />
      <button type="submit" class="enroll-btn">Enroll</button>
    </form>
  </div>
  <script>
    // Pre-select coach if provided in URL
    window.addEventListener('DOMContentLoaded', function() {
      const params = new URLSearchParams(window.location.search);
      const coach = params.get('coach');
      if (coach) {
        const select = document.querySelector('select[name="coach"]');
        if (select) select.value = coach;
      }
    });

    document.getElementById('enrollForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const name = this.name.value.trim();
      const age = this.age.value.trim();
      const coach = this.coach.value;
      const date = this.date.value;
      const time = this.time.value;
      if (!name || !age || !coach || !date || !time) return;
      const enrollees = JSON.parse(localStorage.getItem('enrollees') || '[]');
      enrollees.push({ name, age, coach, date, time });
      localStorage.setItem('enrollees', JSON.stringify(enrollees));
      this.reset();
      alert('Enrollment successful!');
      window.location.href = 'index.html';
    });
  </script>
</body>
</html>
